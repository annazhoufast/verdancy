{"ast":null,"code":"import _regeneratorRuntime from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import SignForm from'../SignForm/SignForm';import api from'../../../../Constants/APIEndpoints/APIEndpoints';import Errors from'../../../Errors/Errors';import PageTypes from'../../../../Constants/PageTypes/PageTypes';import{Container,Row,Col}from'react-bootstrap';/**\n * @class\n * @classdesc SignUp handles the sign up component\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.setField=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.setError=function(error){_this.setState({error:error});};_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,email,password,passwordConf,firstName,lastName,sendData,response,error,authToken,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,email=_this$state.email,password=_this$state.password,passwordConf=_this$state.passwordConf,firstName=_this$state.firstName,lastName=_this$state.lastName;sendData={email:email,password:password,passwordConf:passwordConf,firstName:firstName,lastName:lastName};_context.next=5;return fetch(api.base+api.handlers.users,{method:\"POST\",body:JSON.stringify(sendData),headers:new Headers({\"Content-Type\":\"application/json\"})});case 5:response=_context.sent;if(!(response.status>=300)){_context.next=12;break;}_context.next=9;return response.text();case 9:error=_context.sent;_this.setError(error);return _context.abrupt(\"return\");case 12:authToken=response.headers.get(\"Authorization\");localStorage.setItem(\"Authorization\",authToken);_this.setError(\"\");_this.props.setAuthToken(authToken);_context.next=18;return response.json();case 18:user=_context.sent;_this.props.setUser(user);case 20:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={email:\"\",firstName:\"\",lastName:\"\",password:\"\",passwordConf:\"\",error:\"\"};_this.fields=[{name:\"Email Address\",key:\"email\"},{name:\"Password\",key:\"password\"},{name:\"Confirm Password\",key:\"passwordConf\"},{name:\"First Name\",key:\"firstName\"},{name:\"Last Name\",key:\"lastName\"}];return _this;}/**\n     * @description setField will set the field for the provided argument\n     */_createClass(SignUp,[{key:\"render\",value:function render(){var values=this.state;var error=this.state.error;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Errors,{error:error,setError:this.setError}),/*#__PURE__*/_jsx(\"section\",{className:\"left-half white-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"get started\"}),/*#__PURE__*/_jsx(SignForm,{setField:this.setField,submitForm:this.submitForm,values:values,fields:this.fields})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"right-half\",children:/*#__PURE__*/_jsx(Container,{id:\"welcome\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"centered-text white-text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"welcome to\"}),/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"verdancy\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"get ready to go green with us!\"})]})})})]});}}]);return SignUp;}(Component);export default SignUp;","map":{"version":3,"sources":["/Users/annaqzhou/INFO/Capstone/verdancy-client/src/Components/Auth/Components/SignUp/SignUp.js"],"names":["React","Component","SignForm","api","Errors","PageTypes","Container","Row","Col","SignUp","props","setField","e","setState","target","name","value","setError","error","submitForm","preventDefault","state","email","password","passwordConf","firstName","lastName","sendData","fetch","base","handlers","users","method","body","JSON","stringify","headers","Headers","response","status","text","authToken","get","localStorage","setItem","setAuthToken","json","user","setUser","fields","key","values"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SignForm from '../SignForm/SignForm';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\nimport {Container, Row, Col} from 'react-bootstrap';\n\n/**\n * @class\n * @classdesc SignUp handles the sign up component\n */\nclass SignUp extends Component {\n    static propTypes = {\n        setPage: PropTypes.func,\n        setAuthToken: PropTypes.func\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            password: \"\",\n            passwordConf: \"\",\n            error: \"\"\n        };\n\n        this.fields = [\n            {\n                name: \"Email Address\",\n                key: \"email\"\n            },\n            {\n                name: \"Password\",\n                key: \"password\"\n            },\n            {\n                name: \"Confirm Password\",\n                key: \"passwordConf\"\n            },\n            {\n                name: \"First Name\",\n                key: \"firstName\"\n            },\n            {\n                name: \"Last Name\",\n                key: \"lastName\"\n            }\n        ];\n    }\n\n    /**\n     * @description setField will set the field for the provided argument\n     */\n    setField = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    /**\n     * @description setError sets the error message\n     */\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    /**\n     * @description submitForm handles the form submission\n     */\n    submitForm = async (e) => {\n        e.preventDefault();\n        const { email,\n            password,\n            passwordConf,\n            firstName,\n            lastName\n        } = this.state;\n        const sendData = {\n            email,\n            password,\n            passwordConf,\n            firstName,\n            lastName\n        };\n        const response = await fetch(api.base + api.handlers.users, {\n            method: \"POST\",\n            body: JSON.stringify(sendData),\n            headers: new Headers({\n                \"Content-Type\": \"application/json\"\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            this.setError(error);\n            return;\n        }\n        const authToken = response.headers.get(\"Authorization\")\n        localStorage.setItem(\"Authorization\", authToken);\n        this.setError(\"\");\n        this.props.setAuthToken(authToken);\n        const user = await response.json();\n        this.props.setUser(user);\n    }\n\n    render() {\n        const values = this.state;\n        const { error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n\n              <section className=\"left-half white-background\">\n                  <div className=\"container\">\n                    <h2>get started</h2>\n                    <SignForm\n                          setField={this.setField}\n                          submitForm={this.submitForm}\n                          values={values}\n                          fields={this.fields} />\n                  </div>\n              </section>\n              <div className=\"right-half\">\n                    <Container id=\"welcome\">\n                            <div className=\"centered-text white-text\">\n                                <h3>welcome to</h3>\n                                <h1><b>verdancy</b></h1>\n                                <h3>get ready to go green with us!</h3>\n                            </div>\n                    </Container>\n              </div>\n            {/* <button onClick={(e) => this.props.setPage(e, PageTypes.signIn)}>Sign in instead</button> */}\n        </>\n    }\n}\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}